<!DOCTYPE html>
<html lang="en-us">
<head>
  
  

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 3.2.0">

  <link rel="manifest" href="/site.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="/slides/test_chinese_slides/test_chinese_slides/">

  <title>幻灯忍者 | Live Lively</title>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.7.0/css/reveal.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.7.0/css/theme/black.min.css">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/dracula.min.css" crossorigin="anonymous">

  
  
  
  <link rel="stylesheet" href="/css/reveal_custom.min.css">

  
  <script>
    var link = document.createElement( 'link' );
    link.rel = 'stylesheet';
    link.type = 'text/css';
    link.href = window.location.search.match( /print-pdf/gi ) ? 'https:\/\/cdnjs.cloudflare.com\/ajax\/libs\/reveal.js\/3.7.0/css/print/pdf.css' : 'https:\/\/cdnjs.cloudflare.com\/ajax\/libs\/reveal.js\/3.7.0/css/print/paper.css';
    document.getElementsByTagName( 'head' )[0].appendChild( link );
  </script>

</head>
<body>

  
<div class="reveal">
  <div class="slides">
    
    
    

    
    

    
    

    
    
    
    <section>
    
      


<p>background-image: url(<a href="https://upload.wikimedia.org/wikipedia/commons/b/be/Sharingan_triple.svg" class="uri">https://upload.wikimedia.org/wikipedia/commons/b/be/Sharingan_triple.svg</a>)</p>
<p>???</p>
<p>图片来源：<a href="https://commons.wikimedia.org/wiki/File:Sharingan_triple.svg">Wikimedia Commons</a></p>
<p>class: inverse, center, middle</p>
<div class="section level1">
<h1>出发！</h1>

    </section>
    

    
    
    
    <section>
    
      
</div>
<div class="section level1">
<h1>你好世界</h1>
<p>首先从 <a href="https://github.com/yihui/xaringan">Github</a> 安装 <strong>xaringan</strong> 包：</p>
<pre class="r"><code>if (!requireNamespace(&quot;xaringan&quot;))
  devtools::install_github(&quot;yihui/xaringan&quot;)</code></pre>
<pre><code>## Loading required namespace: xaringan</code></pre>
<p>–</p>
<p>除非你是六指琴魔，否则我建议安装 <a href="https://www.rstudio.com/products/rstudio/">RStudio 编辑器</a>，它会让你做幻灯片做得飞起。</p>
<ul>
<li>从菜单 <code>File -&gt; New File -&gt; R Markdown -&gt; From Template -&gt; Ninja Presentation (Simplified Chinese)</code> 创建一个新文档；</li>
</ul>
<p>–</p>
<ul>
<li>点击 <code>Knit</code> 按钮编译文档；</li>
</ul>
<p>–</p>
<ul>
<li>或者点击 <a href="https://rstudio.github.io/rstudioaddins/">RStudio 插件</a><sup>*</sup> “Infinite Moon Reader” 在 RStudio 里实时预览幻灯片（每次你保存文档的时候，它会自动重新编译）；</li>
</ul>
<p>.footnote[[*] 如果你看不到模板或者插件，请参见 <a href="https://github.com/yihui/xaringan/issues/2">#2</a>，你的某些 R 包可能崩坏了，需要重新安装。]</p>
</div>
<div class="section level1">
<h1>你好忍者</h1>
<p>忍者不会停留在“你好世界”里，要用好这个 R 包，你需要了解：</p>
<ol style="list-style-type: decimal">
<li><p>JavaScript 库 <a href="https://remarkjs.com">remark.js</a> 的语法；</p></li>
<li><p><strong>xaringan</strong> 包中的选项;</p></li>
</ol>
<p><strong>xaringan</strong> 将 R Markdown 的查克拉注入了 <strong>remark.js</strong>。浏览器中的幻灯片是 remark.js 渲染出来的，而它的 Markdown 源文档是从 R Markdown 生成的（实际上主要是 <strong>knitr</strong>）。</p>

    </section>
    

    
    
    
    <section>
    
      
</div>
<div id="remark.js" class="section level1">
<h1>remark.js</h1>
<p>关于 remark.js 的用法可参考它的<a href="https://remarkjs.com">首页</a>，由于伟大的墙，你可能打不开这个页面（因为里面用了 Google 字体）。不过 <a href="https://github.com/gnab/remark/wiki">remark.js 的维基页面</a> 已经有足够的信息了，你需要学习：</p>
<ul>
<li><p>如何创建一页新的片子，主要是 Markdown 语法<sup>*</sup> 以及单页片子的属性设置；</p></li>
<li><p>如何排版，例如文本对齐；</p></li>
<li><p>如何设置整个幻灯片的选项（代码高亮样式之类的）；</p></li>
<li><p>怎样播放幻灯片（快捷键，按 <code>h</code> 键基本就知道了）；</p></li>
</ul>
<p>.footnote[[*] 它和 Pandoc Markdown 语法不同，不过对做幻灯片而言，简单的语法可能也足够了。]</p>
<p>class: inverse, middle, center</p>
</div>
<div id="xaringan-" class="section level1">
<h1>xaringan 包的使用</h1>

    </section>
    

    
    
    
    <section>
    
      
</div>
<div id="xaringan" class="section level1">
<h1>xaringan</h1>
<p><strong>xaringan</strong> 包提供了一个 R Markdown 输出格式 <code>xaringan::moon_reader</code>，你可以在 R Markdown 文档的元数据中使用它，例：</p>
<pre class="yaml"><code>---
title: &quot;啧啧啧，厉害啊&quot;
author: &quot;张三&quot;
date: &quot;2016年12月12日&quot;
output:
  xaringan::moon_reader
    nature:
      autoplay: 30000
      highlightStyle: github
---</code></pre>
<p>欲知所有可能的选项，参见 R 帮助文档 <code>?xaringan::moon_reader</code>。</p>

    </section>
    

    
    
    
    <section>
    
      
</div>
<div id="remark.js--xaringan-" class="section level1">
<h1>remark.js 与 xaringan 的区别</h1>
<p>remark.js （左）与 <strong>xaringan</strong> （右）：</p>
<p>.pull-left[ 1. 需要一个 HTML 容器文件；</p>
<ol style="list-style-type: decimal">
<li><p>只能用 Markdown；</p></li>
<li><p>若想自动播放幻灯片需要写 JavaScript；</p></li>
<li><p>需手工配置 MathJax；</p></li>
<li><p>用 <code>*</code> 高亮一行代码；</p></li>
<li><p>编辑 Markdown 之后需要刷新浏览器看结果； ]</p></li>
</ol>
<p>.pull-right[ 1. 用 R Markdown 文档生成幻灯片；</p>
<ol style="list-style-type: decimal">
<li><p>Markdown 里可以嵌入 R 代码；</p></li>
<li><p>可用 <code>autoplay</code> 选项自动播放；</p></li>
<li><p>MathJax 无需特别配置；<sup>*</sup></p></li>
<li><p>用 <code>{{}}</code> 高亮一行代码;</p></li>
<li><p>用 RStudio 插件“Infinite Moon Reader”自动预览幻灯片； ]</p></li>
</ol>
<p>.footnote[[*] 下一页有数学公式例子。]</p>

    </section>
    

    
    
    
    <section>
    
      
</div>
<div class="section level1">
<h1>数学公式</h1>
<p>数学公式用 LaTeX 语法写在一对美元符号中间，例如 $+$ 会生成 <span class="math inline">\(\alpha+\beta\)</span>。若要将公式单独显示为一个段落，可以用一对双重美元符号：</p>
<pre><code>$$\bar{X}=\frac{1}{n}\sum_{i=1}^nX_i$$</code></pre>
<p><span class="math display">\[\bar{X}=\frac{1}{n}\sum_{i=1}^nX_i\]</span></p>
<p>局限性：</p>
<ol style="list-style-type: decimal">
<li><p>公式的源代码只能写在一行上，不能换行；双重美元符号内的公式允许换行，但条件是起始标记 <code>$$</code> 必须在一行的最开头（前面不能有任何字符，后面必须跟一个不是空格的字符），结束标记 <code>$$</code> 必须在一行的最末尾（前面必须是一个非空格的字符，后面不能有任何字符）；</p></li>
<li><p>起始美元符号后以及结束美元符号前不能有空格，否则不会被识别为公式；</p></li>
</ol>

    </section>
    

    
    
    
    <section>
    
      
</div>
<div id="r-" class="section level1">
<h1>R 代码</h1>
<pre class="r"><code># 一个无聊的回归模型
fit = lm(dist ~ 1 + speed, data = cars)
coef(summary(fit))</code></pre>
<pre><code>#               Estimate Std. Error   t value     Pr(&gt;|t|)
# (Intercept) -17.579095  6.7584402 -2.601058 1.231882e-02
# speed         3.932409  0.4155128  9.463990 1.489836e-12</code></pre>
<pre class="r"><code>dojutsu = c(&#39;地爆天星&#39;, &#39;天照&#39;, &#39;加具土命&#39;, &#39;神威&#39;, &#39;須佐能乎&#39;, &#39;無限月読&#39;)
grep(&#39;天&#39;, dojutsu, value = TRUE)</code></pre>
<pre><code># character(0)</code></pre>

    </section>
    

    
    
    
    <section>
    
      
</div>
<div id="r-" class="section level1">
<h1>R 图形</h1>
<pre class="r"><code>par(mar = c(4, 4, 1, .1))
plot(cars, pch = 19, col = &#39;darkgray&#39;, las = 1)
abline(fit, lwd = 2)</code></pre>
<p><img src="/slides/test_chinese_slides/test_chinese_slides_files/figure-html/cars-1.svg" width="672" /></p>

    </section>
    

    
    
    
    <section>
    
      
</div>
<div id="html-" class="section level1">
<h1>HTML 控件</h1>
<p>我没有仔细测试 <a href="https://htmlwidgets.org">HTML 控件</a>，祝你好运。下一页上有两个例子，一个地图，一个表格，目测貌似可用。</p>
<p>目前也不支持 Shiny 模式（即 <code>runtime: shiny</code>）。还是别把你的幻灯片搞辣么复杂吧。</p>

    </section>
    

    
    
    
    <section>
    
      
<pre class="r"><code>library(leaflet)
leaflet() %&gt;% addTiles() %&gt;% setView(-93.65, 42.0285, zoom = 17)</code></pre>

    </section>
    

    
    
    
    <section>
    
      
<pre class="r"><code>DT::datatable(
  head(iris, 10),
  fillContainer = FALSE, options = list(pageLength = 8)
)</code></pre>

    </section>
    

    
    
    
    <section>
    
      
</div>
<div class="section level1">
<h1>一些小技能</h1>
<ul>
<li><p>“Infinite Moon Reader”插件默认情况下会锁住你的 R 进程，有它没你，有你没它。你可以设置一个选项，让它一边儿凉快去：</p>
<pre class="r"><code>options(servr.daemon = TRUE)</code></pre>
<p>你可以把这个设置写在 <code>~/.Rprofile</code> 文件中，这样你将来所有 R 进程都不会被这个插件挡住去路。</p>
<p>这事情背后的魔法在 <a href="https://github.com/yihui/servr"><strong>servr</strong></a> 包中。</p></li>
</ul>
<p>–</p>
<ul>
<li><p>别忘了玩一下 <code>yolo</code> 选项，如：</p>
<pre class="yaml"><code>output:
  xaringan::moon_reader:
    yolo: 3</code></pre>
<p>它会随机显示 Karl Broman 的照片；这里地方太小，写不下故事的来龙去脉。</p></li>
</ul>

    </section>
    

    
    
    
    <section>
    
      
</div>
<div id="-1" class="section level1">
<h1>一些小技能</h1>
<ul>
<li><p><code>nature</code> 下面的 <code>autoplay</code> 选项可以用来自动播放幻灯片，它的取值是毫秒，例如每 30 秒播放一张片子：</p>
<pre class="yaml"><code>output:
  xaringan::moon_reader:
    nature:
      autoplay: 30000</code></pre></li>
</ul>
<p>–</p>
<ul>
<li><p><code>nature</code> 下面的 <code>countdown</code> 选项可以为每一页幻灯片添加一个（倒数）计时器，取值同样为毫秒，例如每一页片子都用 60 秒倒计时：</p>
<pre class="yaml"><code>output:
  xaringan::moon_reader:
    nature:
      countdown: 60000</code></pre></li>
</ul>

    </section>
    

    
    
    
    <section>
    
      
</div>
<div id="-2" class="section level1">
<h1>一些小技能</h1>
<ul>
<li><p>一页片子可以分割成一步步播放，参见<a href="https://slides.yihui.name/xaringan/incremental.html">这个示例</a>。</p></li>
<li><p>选项 <code>highlightLines: true</code> 可以让以 <code>*</code> 开头或者双重大括号 <code>{{ }}</code> 里面的代码被高亮出来；</p>
<pre class="yaml"><code>output:
  xaringan::moon_reader:
    nature:
      highlightLines: true</code></pre>
<p>下一页我们举两个栗子。</p></li>
</ul>

    </section>
    

    
    
    
    <section>
    
      
</div>
<div id="-3" class="section level1">
<h1>一些小技能</h1>
<p>.pull-left[ 以 <code>*</code> 开头的代码：</p>
<pre><code>```r
if (TRUE) {
** message(&quot;敲黑板！划重点！&quot;)
}
```</code></pre>
<p>输出：</p>
<pre class="r"><code>if (TRUE) {
* message(&quot;敲黑板！划重点！&quot;)
}</code></pre>
<p>因为它不是合法的 R 代码，所以不能作为 R 代码段来写，只能用三个反引号直接跟 r（就知道你没听懂）。 ]</p>
<p>.pull-right[ 用 <code>{{}}</code> 包裹的代码：</p>
<pre><code>```{r tidy=FALSE}
if (TRUE) {
*{{ message(&quot;敲黑板！划重点！&quot;) }}
}
```</code></pre>
<p>输出：</p>
<pre class="r"><code>if (TRUE) {
{{ message(&quot;敲黑板！划重点！&quot;) }}
}</code></pre>
<pre><code>## &lt;U+6572&gt;&lt;U+9ED1&gt;&lt;U+677F&gt;!&lt;U+5212&gt;&lt;U+91CD&gt;&lt;U+70B9&gt;!</code></pre>
<p>这是合法的 R 代码，所以你可以真的运行它。 ]</p>

    </section>
    

    
    
    
    <section>
    
      
</div>
<div id="css" class="section level1">
<h1>CSS（层叠样式表）</h1>
<p><code>xaringan::moon_reader</code> 的所有选项中，最强的魔法在 <code>css</code> 选项上，它是自定义幻灯片样式的关键。如果你不懂 CSS 的话，我强烈建议你学习一些 CSS 的基础知识。</p>
<p>对中文幻灯片，<strong>xaringan</strong> 包中的默认 CSS 文件在<a href="https://github.com/yihui/xaringan/blob/master/inst/rmarkdown/templates/xaringan_zh-CN/skeleton/zh-CN.css">这里</a>，你可以在它的基础上改装，也可以直接定义全新的 CSS 样式。</p>

    </section>
    

    
    
    
    <section>
    
      
</div>
<div id="css-1" class="section level1">
<h1>CSS（层叠样式表）</h1>
<p>举个栗子。比如你想将一段文字的颜色改为红色，你可以定义一个 CSS 类，如：</p>
<pre class="css"><code>.red {
  color: #FF0000;
}</code></pre>
<p>我们把这段代码保存在一个 CSS 文件中，如 <code>extra.css</code>（假设它跟你的 R Markdown 文件在同一文件夹下），然后通过 <code>css</code> 选项将它引入：</p>
<pre class="yaml"><code>output:
  xaringan::moon_reader:
    css: [&quot;zh-CN.css&quot;, &quot;extra.css&quot;]</code></pre>
<p>其中 <code>zh-CN.css</code> 是本包已经为你提供的 CSS 样式文件（你可选择用或不用）。</p>
<p>现在在 R Markdown 中你就可以用 <code>.red[]</code> 来标记一段文字为红色，如 <code>.red[我是红色的]</code>。</p>

    </section>
    

    
    
    
    <section>
    
      
</div>
<div id="css-2" class="section level1">
<h1>CSS（层叠样式表）</h1>
<p>如果想在墙内用 Google 字体的话，可以试试这个 <a href="https://google-webfonts-helper.herokuapp.com/fonts">google-webfonts-helper</a> 应用，它会把字体下载到本地并生成相应的 CSS 文件。也可以考虑 360 的 <a href="http://libs.useso.com">CDN 服务</a>。</p>
<p>可惜中文不像英文，没有很新奇酷炫的网络字体，只能靠你电脑上的字体硬撑了。</p>
<p>background-image: url(<a href="https://upload.wikimedia.org/wikipedia/commons/b/be/Sharingan_triple.svg" class="uri">https://upload.wikimedia.org/wikipedia/commons/b/be/Sharingan_triple.svg</a>) background-size: 100px background-position: 90% 8%</p>
</div>
<div class="section level1">
<h1>写轮眼</h1>
<p><strong>xaringan</strong> 这个名字来源于火影中的写轮眼 <strong>Sharingan</strong>。<sup>1</sup> 写轮眼有两大能力：</p>
<ul>
<li><p>洞察眼</p></li>
<li><p>催眠眼</p></li>
</ul>
<p>其实做演示就是将自己的洞见传递给听众；好的演讲通常有催眠效果，因为它可以深度震撼人心。<sup>2,3</sup></p>
<p>.footnote[ [1] 我把 Sh 换成 X 了，因为几乎没有一个歪果仁读对过我的姓。当然主要原因还是 xaringan 搜索起来更容易被搜到。</p>
<p>[2] 糟糕的演讲也可以催眠听众，但显然这两种催眠完全不同。</p>
<p>[3] 我之所以选择了 remark.js 框架，就是因为它可以设置背景图。对我而言，在一页片子上整页显示一幅图最能表达震撼的视觉效果，现有的 R Markdown 幻灯片框架都缺乏这个功能，不开森。当时我发现 remark.js 之后真的是激动地不要不要的，等了一个月才抽出空来把这个包写出来。 ]</p>

    </section>
    

    
    
    
    <section>
    
      
</div>
<div class="section level1">
<h1>火影术语</h1>
<p>简单介绍一下这个包里那些奇怪的术语的由来：</p>
<ul>
<li><p><a href="http://naruto.wikia.com/wiki/Sharingan">写轮眼</a>（包名，已解释）</p></li>
<li><p><a href="http://naruto.wikia.com/wiki/Moon_Reader">月读</a>（我希望这个 R Markdown 格式 <code>moon_reader</code> 能将听众控制在幻象中）</p></li>
<li><p><a href="http://naruto.wikia.com/wiki/Chakra">查克拉</a>（月读的参数之一 <code>chakra</code>，意思是 remark.js 的路径，它是支撑幻灯片的核心动力）</p></li>
<li><p><a href="http://naruto.wikia.com/wiki/Nature_Transformation">性质变化</a>（月读的参数之一 <code>nature</code>，意思是通过设置选项改变查克拉的性质）</p></li>
<li><p><a href="http://naruto.wikia.com/wiki/Infinite_Tsukuyomi">无限月读</a>（函数 <code>infinite_moon_reader()</code> 开启一个服务器不断刷新更新后的幻灯片，RStudio 插件背后对应的就是这个函数）</p></li>
<li><p><a href="http://naruto.wikia.com/wiki/Summoning_Technique">通灵术</a>（<code>summon_remark()</code> 从网络上把 remark.js 通灵到本地）</p></li>
</ul>
<p>月读这个忍术有点邪恶，不过你就当不知道吧。</p>

    </section>
    

    
    
    
    <section>
    
      
</div>
<div class="section level1">
<h1>结印</h1>
<p>使用本包单手就可以结印，按键 <code>h</code> 或者 <code>?</code> 之后就可以看见所有结印手势，例如 <code>p</code> 进入演讲者模式（可看见写给自己的注释，比如提醒自己要讲的笑话），<code>c</code> 复制幻灯片到新窗口；演讲时可以在自己面前的屏幕上显示演讲者模式，把新窗口中正常的幻灯片拖到大屏幕投影上给观众看。</p>
<p>.center[<img src="https://upload.wikimedia.org/wikipedia/commons/7/7e/Mudra-Naruto-KageBunshin.svg" />]</p>
<p>???</p>
<p>嗯，我们来讲一个不容易看懂的冷笑话。</p>
<div class="figure">
<img src="https://img-9gag-fun.9cache.com/photo/aMGp7bM_700b_v2.jpg" />

</div>

    </section>
    

    
    
    
    <section>
    
      
<p>class: center, middle</p>
</div>
<div class="section level1">
<h1>蟹蟹</h1>
<p>本幻灯片由 R 包 <a href="https://github.com/yihui/xaringan"><strong>xaringan</strong></a> 生成；</p>
<p>查克拉来自于 <a href="https://remarkjs.com">remark.js</a>、<a href="http://yihui.name/knitr"><strong>knitr</strong></a>、以及 <a href="https://rmarkdown.rstudio.com">R Markdown</a>。</p>
</div>

    </section>
    

    
    
  </div>
</div>



  <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.7.0/lib/js/head.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.7.0/js/reveal.min.js"></script>

  <script>
    window.revealPlugins = { dependencies: [
      { src: 'https:\/\/cdnjs.cloudflare.com\/ajax\/libs\/reveal.js\/3.7.0/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
      { src: 'https:\/\/cdnjs.cloudflare.com\/ajax\/libs\/reveal.js\/3.7.0/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
      { src: 'https:\/\/cdnjs.cloudflare.com\/ajax\/libs\/reveal.js\/3.7.0/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
      { src: 'https:\/\/cdnjs.cloudflare.com\/ajax\/libs\/reveal.js\/3.7.0/plugin/zoom-js/zoom.js', async: true },
      { src: 'https:\/\/cdnjs.cloudflare.com\/ajax\/libs\/reveal.js\/3.7.0/plugin/math/math.js', async: true },
      { src: 'https:\/\/cdnjs.cloudflare.com\/ajax\/libs\/reveal.js\/3.7.0/plugin/print-pdf/print-pdf.js', async: true },
      
      { src: '\/js\/vendor\/reveal.js\/plugin\/notes\/notes.js', async: true }
    ]};

    let revealDefaults = { center: true, controls: true, history: true, progress: true, transition: 'slide', mouseWheel: true };
    let revealOptions = Object.assign({}, revealDefaults, revealPlugins);
    Reveal.initialize(revealOptions);
  </script>

</body>
</html>
